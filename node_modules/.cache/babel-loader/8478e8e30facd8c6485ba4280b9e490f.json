{"ast":null,"code":"import Cookie from \"js-cookie\";\nimport { toast } from \"react-toastify\";\nexport const isHandlerEnabled = function () {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return !(config.hasOwnProperty('handlerEnabled') && !config.handlerEnabled);\n};\nexport const requestHandler = request => {\n  if (isHandlerEnabled(request)) {\n    request.headers = {}; // Modify request here\n    // store.dispatch(setLoader(true));\n  }\n\n  return request;\n};\nexport const successHandler = response => {\n  if (isHandlerEnabled(response)) {// Handle responses\n    // store.dispatch(setLoader(false));\n  }\n\n  return response;\n};\nexport const errorHandler = error => {\n  toast.dismiss();\n\n  if (error.response && error.response.data && error.response.data.description) {\n    toast.error(error.response.data.description);\n  }\n\n  if (error.response && error.response.data && error.response.data.message) {\n    toast.error(error.response.data.message);\n  }\n\n  if (error.response && error.response.status === 403) {\n    Cookie.remove('sessionToken');\n    window.location.href = '/login';\n  }\n\n  return Promise.reject({ ...error\n  });\n};","map":{"version":3,"names":["Cookie","toast","isHandlerEnabled","config","hasOwnProperty","handlerEnabled","requestHandler","request","headers","successHandler","response","errorHandler","error","dismiss","data","description","message","status","remove","window","location","href","Promise","reject"],"sources":["/Users/yasartahirkose/Desktop/stops/src/network/interceptors/index.js"],"sourcesContent":["import Cookie from \"js-cookie\";\nimport {toast} from \"react-toastify\";\n\nexport const isHandlerEnabled = (config = {}) => (!(config.hasOwnProperty('handlerEnabled') && !config.handlerEnabled));\n\nexport const requestHandler = (request) => {\n  if (isHandlerEnabled(request)) {\n    request.headers = {\n    }\n    // Modify request here\n    // store.dispatch(setLoader(true));\n  }\n  return request;\n};\n\nexport const successHandler = (response) => {\n  if (isHandlerEnabled(response)) {\n    // Handle responses\n    // store.dispatch(setLoader(false));\n  }\n  return response;\n};\n\nexport const errorHandler = (error) => {\n  toast.dismiss();\n  if (error.response && error.response.data && error.response.data.description) {\n    toast.error(error.response.data.description);\n  }\n  if (error.response && error.response.data && error.response.data.message) {\n    toast.error(error.response.data.message);\n  }\n  if (error.response && error.response.status === 403) {\n    Cookie.remove('sessionToken')\n    window.location.href = '/login'\n  }\n  return Promise.reject({...error});\n};\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AAEA,OAAO,MAAMC,gBAAgB,GAAG;EAAA,IAACC,MAAD,uEAAU,EAAV;EAAA,OAAkB,EAAEA,MAAM,CAACC,cAAP,CAAsB,gBAAtB,KAA2C,CAACD,MAAM,CAACE,cAArD,CAAlB;AAAA,CAAzB;AAEP,OAAO,MAAMC,cAAc,GAAIC,OAAD,IAAa;EACzC,IAAIL,gBAAgB,CAACK,OAAD,CAApB,EAA+B;IAC7BA,OAAO,CAACC,OAAR,GAAkB,EAAlB,CAD6B,CAG7B;IACA;EACD;;EACD,OAAOD,OAAP;AACD,CARM;AAUP,OAAO,MAAME,cAAc,GAAIC,QAAD,IAAc;EAC1C,IAAIR,gBAAgB,CAACQ,QAAD,CAApB,EAAgC,CAC9B;IACA;EACD;;EACD,OAAOA,QAAP;AACD,CANM;AAQP,OAAO,MAAMC,YAAY,GAAIC,KAAD,IAAW;EACrCX,KAAK,CAACY,OAAN;;EACA,IAAID,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeI,IAAjC,IAAyCF,KAAK,CAACF,QAAN,CAAeI,IAAf,CAAoBC,WAAjE,EAA8E;IAC5Ed,KAAK,CAACW,KAAN,CAAYA,KAAK,CAACF,QAAN,CAAeI,IAAf,CAAoBC,WAAhC;EACD;;EACD,IAAIH,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeI,IAAjC,IAAyCF,KAAK,CAACF,QAAN,CAAeI,IAAf,CAAoBE,OAAjE,EAA0E;IACxEf,KAAK,CAACW,KAAN,CAAYA,KAAK,CAACF,QAAN,CAAeI,IAAf,CAAoBE,OAAhC;EACD;;EACD,IAAIJ,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeO,MAAf,KAA0B,GAAhD,EAAqD;IACnDjB,MAAM,CAACkB,MAAP,CAAc,cAAd;IACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACD;;EACD,OAAOC,OAAO,CAACC,MAAR,CAAe,EAAC,GAAGX;EAAJ,CAAf,CAAP;AACD,CAbM"},"metadata":{},"sourceType":"module"}