{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport API from '../network/apis/APIs';\nimport { requestPayload } from '../utils/Constants';\nimport { toast } from \"react-toastify\";\nimport Cookies from \"js-cookie\";\nconst users = [{\n  id: 1,\n  name: \"orhan\",\n  surname: \"aydoğdu\",\n  password: \"12341214\",\n  email: \"orhan@aydogdu.com.tr\",\n  status: true\n}, {\n  id: 2,\n  name: \"enes\",\n  surname: \"kahraman\",\n  password: \"98776241\",\n  email: \"enes@kahraman.com.tr\",\n  status: false\n}, {\n  id: 3,\n  name: \"enes\",\n  surname: \"poyraz\",\n  password: \"12416754\",\n  email: \"enes@poyraz.com.tr\",\n  status: true\n}, {\n  id: 4,\n  name: \"tahir\",\n  surname: \"köse\",\n  password: \"123456\",\n  email: \"tahir@kose.com.tr\",\n  status: true\n}];\nexport const createSession = createAsyncThunk('createSession', async arg => {\n  try {\n    const response = await API.createSession({ ...arg,\n      ...requestPayload\n    });\n    return response.data;\n  } catch (err) {\n    return err.response.data;\n  }\n});\nconst slice = createSlice({\n  name: 'auth',\n  initialState: {\n    isPending: false,\n    user: null,\n    inviteUser: false\n  },\n  reducers: {\n    setUser: (state, action) => {\n      let isValidUser = false;\n      users.forEach(user => {\n        if (user.email == action.payload.email && user.password == action.payload.password) {\n          Cookies.set('activeUser', JSON.stringify(user));\n          isValidUser = true;\n          state.inviteUser = true;\n          toast.success('Login Successful');\n          state.user = user;\n          return;\n        }\n      });\n\n      if (!isValidUser) {\n        toast.error('Check Your Email or Password');\n        state.inviteUser = false;\n      }\n    },\n    removeUser: (state, action) => {\n      state.user = null;\n      state.inviteUser = false;\n      Cookies.remove('activeUser');\n    }\n  },\n  extraReducers: {\n    [createSession.pending]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n    },\n    [createSession.fulfilled]: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n    },\n    [createSession.rejected]: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n    }\n  }\n});\nexport default slice.reducer;\nexport const {\n  setUser,\n  removeUser\n} = slice.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","API","requestPayload","toast","Cookies","users","id","name","surname","password","email","status","createSession","arg","response","data","err","slice","initialState","isPending","user","inviteUser","reducers","setUser","state","action","isValidUser","forEach","payload","set","JSON","stringify","success","error","removeUser","remove","extraReducers","pending","fulfilled","rejected","reducer","actions"],"sources":["/Users/yasartahirkose/Desktop/stops/src/store/auth.js"],"sourcesContent":["import {\n  createSlice,\n  createAsyncThunk,\n} from '@reduxjs/toolkit';\nimport API from '../network/apis/APIs';\nimport { requestPayload } from '../utils/Constants';\nimport { toast } from \"react-toastify\";\nimport Cookies from \"js-cookie\";\n\nconst users = [\n  {\n    id: 1,\n    name: \"orhan\",\n    surname: \"aydoğdu\",\n    password: \"12341214\",\n    email: \"orhan@aydogdu.com.tr\",\n    status: true\n  },\n  {\n    id: 2,\n    name: \"enes\",\n    surname: \"kahraman\",\n    password: \"98776241\",\n    email: \"enes@kahraman.com.tr\",\n    status: false\n  },\n  {\n    id: 3,\n    name: \"enes\",\n    surname: \"poyraz\",\n    password: \"12416754\",\n    email: \"enes@poyraz.com.tr\",\n    status: true\n  },\n  {\n    id: 4,\n    name: \"tahir\",\n    surname: \"köse\",\n    password: \"123456\",\n    email: \"tahir@kose.com.tr\",\n    status: true\n  }\n]\n\nexport const createSession = createAsyncThunk('createSession', async (arg) => {\n  try {\n    const response = await API.createSession({...arg, ...requestPayload});\n    return response.data;\n  } catch (err) {\n    return err.response.data\n  }\n});\n\nconst slice = createSlice({\n  name: 'auth',\n  initialState: {\n    isPending: false,\n    user: null,\n    inviteUser: false,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      let isValidUser = false\n      users.forEach(user => {\n        if (user.email == action.payload.email && user.password == action.payload.password) {\n          Cookies.set( 'activeUser', JSON.stringify(user) );\n          isValidUser = true\n          state.inviteUser = true;\n          toast.success('Login Successful');\n          state.user = user;\n          return;\n        }\n      })\n      if (!isValidUser) {\n        toast.error('Check Your Email or Password');\n        state.inviteUser = false;\n      }\n    },\n    removeUser: (state, action) => {\n      state.user = null;\n      state.inviteUser = false;\n      Cookies.remove('activeUser')}\n  },\n  extraReducers: {\n\n    [createSession.pending]: (state, {payload}) => {\n    },\n    [createSession.fulfilled]: (state, {payload}) => {\n    },\n    [createSession.rejected]: (state, {payload}) => {\n    },\n\n  },\n});\n\nexport default slice.reducer;\n\nexport const {\n  setUser,\n  removeUser\n} = slice.actions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}